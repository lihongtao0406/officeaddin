{"version":3,"file":"dialog.js","mappings":"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","sources":["webpack://office-addin-taskpane-js/./src/mainpage/newjob.js"],"sourcesContent":["/* eslint-disable */\r\nOffice.onReady((info) => {\r\n    if (info.host === Office.HostType.Outlook) {\r\n        const data = JSON.parse(localStorage.getItem(\"dialogData\"));\r\n        console.log(data);\r\n        populateSelect('group-data', data.groupOptions);\r\n        populateSelect('client', data.clientOptions);\r\n        document.getElementById('noteSummary').value = data.noteTitle;\r\n        console.log(data.noteContent);\r\n        const editor = window.editorInstance;\r\n        // Set the email content in the Quill editor\r\n        if (editor) {\r\n            // Set the email content in CKEditor\r\n            editor.setData(data.noteContent);\r\n            document.getElementById('noteSummary').value = data.noteTitle;\r\n        } else {\r\n            console.error('CKEditor instance is not available.');\r\n        }\r\n\r\n        initSelect2('#group-data');\r\n        initSelect2('#client');\r\n        initSelect2('#share-client');\r\n    } else {\r\n        console.error(\"This add-in only supports Outlook.\");\r\n    }\r\n});\r\n\r\n\r\nfunction populateSelect(selectId, options) {\r\n    const selectElement = document.getElementById(selectId);\r\n\r\n\r\n    selectElement.innerHTML = '';\r\n\r\n\r\n    options.forEach(option => {\r\n        const optionElement = document.createElement('option');\r\n        optionElement.value = option.value;\r\n        optionElement.textContent = option.text;\r\n\r\n        if (option.selected) {\r\n            optionElement.selected = true;\r\n        }\r\n\r\n        selectElement.appendChild(optionElement);\r\n    });\r\n}\r\n\r\nfunction initSelect2(selectSelector) {\r\n    $(selectSelector).select2({\r\n        placeholder: \"Search or select\",\r\n        allowClear: true\r\n    });\r\n}\r\n\r\n$('#group-data').on('change', async function () {\r\n    const groupId = this.value;\r\n    await loadClient(groupId);\r\n    const clientId = $('#client').val();\r\n    await loadSharedClient(groupId, clientId);\r\n    if ($('#jobtype').is(':checked')) {\r\n        await loadJobType(groupId);\r\n    }\r\n\r\n    if ($('#owner').is(':checked')) {\r\n        loadUsers(groupId, 'owner-select');\r\n    }\r\n\r\n    if ($('#assigned').is(':checked')) {\r\n        loadUsers(groupId, 'assigned-select');\r\n    }\r\n\r\n    if ($('#observer').is(':checked')) {\r\n        loadUsers(groupId, 'observer-select');\r\n    }\r\n});\r\n\r\n$('#client').on('change', async function () {\r\n    const clientId = this.value;\r\n    const groupId = $('#group-data').val();\r\n    await loadSharedClient(groupId, clientId);\r\n});\r\n\r\nasync function loadClient(groupId) {\r\n    try {\r\n        const response = await fetch(`http://localhost/outlookAddin/webgetEntities.php?groupId=${groupId}`);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const clients = await response.json();\r\n\r\n        const clientSelect = document.getElementById(\"client\");\r\n        clientSelect.innerHTML = \"\";\r\n        if (Array.isArray(clients)) {\r\n            clients.forEach(client => {\r\n                const option = document.createElement(\"option\");\r\n                option.value = client.entityId;\r\n                option.textContent = `${client.entityName} - ${client.entityId}`;\r\n\r\n                option.dataset.xplanEmail = client.XPlanID || \"\";\r\n                option.dataset.salesforceEmail = client.SalesforceID || \"\";\r\n                option.dataset.midwinterEmail = client.MidwinterID || \"\";\r\n                clientSelect.appendChild(option);\r\n            });\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error('Error loading client data:', error);\r\n    }\r\n}\r\n\r\nasync function loadSharedClient(groupId, entityId) {\r\n    try {\r\n        const response = await fetch(`http://localhost/outlookAddin/webgetEntityShare.php?groupId=${groupId}&entityId=${entityId}`);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const sharedClients = await response.json();\r\n\r\n        console.log(sharedClients);\r\n        const sharedClientSelect = document.getElementById(\"share-client\");\r\n        sharedClientSelect.innerHTML = \"\";\r\n        if (Array.isArray(sharedClients)) {\r\n            sharedClients.forEach(sharedClient => {\r\n                const option = document.createElement(\"option\");\r\n                option.value = sharedClient.entityId;\r\n                option.textContent = sharedClient.entityName;\r\n                sharedClientSelect.appendChild(option);\r\n            });\r\n        }\r\n\r\n\r\n    } catch (error) {\r\n        console.error('Error loading shared client data:', error);\r\n    }\r\n}\r\n\r\ndocument.getElementById(\"jobnote-duedate\").addEventListener(\"change\", function () {\r\n    const datetimeContainer = document.getElementById(\"jobnote-duedate-container\");\r\n    if (this.checked) {\r\n        const now = new Date();\r\n        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n        document.getElementById(\"jobnote-duedate-picker\").value = now.toISOString().slice(0, 16);\r\n        datetimeContainer.style.display = \"block\";\r\n    } else {\r\n        datetimeContainer.style.display = \"none\";\r\n    }\r\n});\r\n\r\ndocument.getElementById(\"jobnote-effectivedate\").addEventListener(\"change\", function () {\r\n    const datetimeContainer = document.getElementById(\"jobnote-effectivedate-container\");\r\n    if (this.checked) {\r\n        datetimeContainer.style.display = \"block\";\r\n        const now = new Date();\r\n        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n        document.getElementById(\"jobnote-effectivedate-picker\").value = now.toISOString().slice(0, 16);\r\n    } else {\r\n        datetimeContainer.style.display = \"none\";\r\n    }\r\n});\r\n\r\ndocument.getElementById(\"jobnote-completedate\").addEventListener(\"change\", function () {\r\n    const datetimeContainer = document.getElementById(\"jobnote-completedate-container\");\r\n    if (this.checked) {\r\n        datetimeContainer.style.display = \"block\";\r\n        const now = new Date();\r\n        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n        document.getElementById(\"jobnote-completedate-picker\").value = now.toISOString().slice(0, 16);\r\n    } else {\r\n        datetimeContainer.style.display = \"none\";\r\n    }\r\n});\r\n\r\ndocument.getElementById(\"jobnote-followupdate\").addEventListener(\"change\", function () {\r\n    const datetimeContainer = document.getElementById(\"jobnote-followupdate-container\");\r\n    if (this.checked) {\r\n        datetimeContainer.style.display = \"block\";\r\n        const now = new Date();\r\n        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n        document.getElementById(\"jobnote-followupdate-picker\").value = now.toISOString().slice(0, 16);\r\n    } else {\r\n        datetimeContainer.style.display = \"none\";\r\n    }\r\n});\r\n\r\ndocument.getElementById(\"jobtype\").addEventListener(\"change\", async function () {\r\n    const jobtypeContainer = document.getElementById(\"jobtype-container\");\r\n    const jobtitleContainer = document.getElementById(\"jot-title-div\");\r\n    if (this.checked) {\r\n        const groupId = $('#group-data').val();\r\n        await loadJobType(groupId);\r\n\r\n        jobtypeContainer.style.display = \"block\";\r\n        jobtitleContainer.style.display = \"flex\";\r\n    } else {\r\n        jobtypeContainer.style.display = \"none\";\r\n        jobtitleContainer.style.display = \"none\";\r\n    }\r\n});\r\n\r\nasync function loadJobType(groupId) {\r\n    try {\r\n        const response = await fetch(`http://localhost/outlookAddin/webgetJobTypes.php?groupId=${groupId}`);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const jobTypes = await response.json();\r\n        const jobTypeSelect = document.getElementById(\"jobtype-select\");\r\n        jobTypeSelect.innerHTML = \"\";\r\n        if (Array.isArray(jobTypes)) {\r\n            jobTypes.forEach(jobType => {\r\n                const option = document.createElement(\"option\");\r\n                option.value = jobType.jobtypeid;\r\n                option.textContent = jobType.jobtype;\r\n                jobTypeSelect.appendChild(option);\r\n            });\r\n\r\n            const firstJobTypeId = jobTypes[0].jobtypeid;\r\n            $('#jobtype-select').val(firstJobTypeId).trigger('change');\r\n\r\n            await loadJobTitle(groupId, firstJobTypeId);\r\n        }\r\n\r\n        $('#jobtype-select').select2({\r\n            placeholder: \"Search or select\",\r\n            allowClear: true,\r\n        });\r\n\r\n        $('#jobtitle-select').select2({\r\n            placeholder: \"Search or select\",\r\n            allowClear: true,\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error('Error loading job type data:', error);\r\n    }\r\n}\r\n\r\nasync function loadJobTitle(groupId, jobTypeId) {\r\n    try {\r\n        const response = await fetch(`http://localhost/outlookAddin/webgetJobDefaultTitles.php?groupId=${groupId}&jobTypeId=${jobTypeId}`);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const jobTitles = await response.json();\r\n        const jobTitleSelect = document.getElementById(\"jobtitle-select\");\r\n        jobTitleSelect.innerHTML = \"\";\r\n        if (Array.isArray(jobTitles)) {\r\n            jobTitles.forEach(jobTitle => {\r\n                const option = document.createElement(\"option\");\r\n                option.value = jobTitle.id;\r\n                option.textContent = jobTitle.defaultJobTitle;\r\n                jobTitleSelect.appendChild(option);\r\n            });\r\n        }\r\n\r\n        if (jobTitles.length > 0) {\r\n            const firstJobTitleId = jobTitles[0].id;\r\n            $('#jobtitle-select').val(firstJobTitleId).trigger('change');\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error('Error loading job title data:', error);\r\n    }\r\n}\r\n\r\n$('#jobtype-select').on('change', async function () {\r\n    const groupId = $('#group-data').val();\r\n    const jobTypeId = this.value;\r\n    await loadJobTitle(groupId, jobTypeId);\r\n});\r\n\r\n$('#jobtitle-select').on('change', function () {\r\n    const selectedJobTitle = $(this).find(\"option:selected\").text();\r\n    document.getElementById(\"jobtitle\").value = selectedJobTitle;\r\n});\r\n\r\n\r\nasync function loadUsers(groupId, selectId) {\r\n    try {\r\n        const response = await fetch(`http://localhost/outlookAddin/webgetUsers.php?groupId=${groupId}`);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const users = await response.json();\r\n        const selectElement = document.getElementById(selectId);\r\n        selectElement.innerHTML = \"\";\r\n        // fixed options\r\n        const fixedOptions = [\r\n            { id: \"-1\", text: \"Primary Adviser\" },\r\n            { id: \"-2\", text: \"Secondary Adviser\" },\r\n            { id: \"-3\", text: \"Support Staff\" },\r\n            { id: \"-4\", text: \"Client Owner\" },\r\n            { id: \"-5\", text: \"Insurance Adviser\" },\r\n            { id: \"-6\", text: \"Mortgage Adviser\" },\r\n            { id: \"-7\", text: \"Investment Adviser\" },\r\n            { id: \"-8\", text: \"Paraplanner\" },\r\n            { id: \"-9\", text: \"To Be Assigned\" },\r\n            { id: \"-10\", text: \"Compliance Officer\" },\r\n            { id: \"-11\", text: \"Outsourced Support\" },\r\n            { id: \"-12\", text: \"Administration Officer\" }\r\n        ];\r\n\r\n        // dynamic options\r\n        const dynamicOptions = Array.isArray(users) ? users.map(user => ({\r\n            id: user.userId,\r\n            text: user.name\r\n        })) : [];\r\n\r\n        // combine fixed and dynamic options\r\n        const select2Data = [];\r\n\r\n        // if non-client job is unchecked, add fixed options\r\n        if (!document.getElementById(\"non-client-job\").checked) {\r\n            select2Data.push({\r\n                text: \"--------Respective Adviser--------\", // group label\r\n                children: fixedOptions\r\n            });\r\n        }\r\n\r\n        // if dynamic users are available, add them\r\n        if (Array.isArray(users) && users.length > 0) {\r\n            select2Data.push({\r\n                text: \"--------My Contant--------\", // group label\r\n                children: dynamicOptions\r\n            });\r\n        }\r\n\r\n        // update select2 with new data\r\n        $(`#${selectId}`).empty().select2({\r\n            placeholder: \"Search or select\",\r\n            allowClear: true,\r\n            data: select2Data // set new data\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error('Error loading user data:', error);\r\n    }\r\n}\r\n\r\nfunction handleUserContainerChange(containerId, selectId) {\r\n    document.getElementById(containerId).addEventListener(\"change\", function () {\r\n        const container = document.getElementById(`${containerId}-container`);\r\n        if (this.checked) {\r\n            const groupId = $('#group-data').val();\r\n            loadUsers(groupId, selectId);\r\n            container.style.display = \"block\";\r\n        } else {\r\n            container.style.display = \"none\";\r\n        }\r\n    });\r\n}\r\n\r\n// initialize select2 for user select elements\r\nhandleUserContainerChange(\"owner\", \"owner-select\");\r\nhandleUserContainerChange(\"assigned\", \"assigned-select\");\r\nhandleUserContainerChange(\"observer\", \"observer-select\");\r\n\r\ndocument.getElementById(\"recurring\").addEventListener(\"change\", function () {\r\n    const recurringContainer = document.getElementById(\"recurring-container\");\r\n    const dueDateContainer = document.getElementById(\"jobnote-due-date-box\");\r\n    if (this.checked) {\r\n        recurringContainer.style.display = \"block\";\r\n        dueDateContainer.style.display = \"none\";\r\n        const now = new Date();\r\n        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n        document.getElementById(\"first-due-date-picker\").value = now.toISOString().slice(0, 16);\r\n        document.getElementById(\"jobnote-duedate\").checked = false;\r\n    } else {\r\n        recurringContainer.style.display = \"none\";\r\n        dueDateContainer.style.display = \"flex\";\r\n        document.getElementById(\"jobnote-duedate-container\").style.display = \"none\";\r\n    }\r\n});\r\n\r\ndocument.getElementById(\"end-date\").addEventListener(\"change\", function () {\r\n    const endDateContainer = document.getElementById(\"end-date-container\");\r\n    if (this.checked) {\r\n        endDateContainer.style.display = \"block\";\r\n        const now = new Date();\r\n        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n        document.getElementById(\"end-date-picker\").value = now.toISOString().slice(0, 16);\r\n    } else {\r\n        endDateContainer.style.display = \"none\";\r\n    }\r\n});\r\n\r\n\r\ndocument.getElementById(\"non-client-job\").addEventListener(\"change\", function () {\r\n    const clientSelect = document.getElementById(\"client\");\r\n    const shareSelect = document.getElementById(\"share-client\");\r\n\r\n    const groupId = $('#group-data').val();\r\n    if (document.getElementById(\"owner\").checked) {\r\n        const selectId = \"owner-select\";\r\n        loadUsers(groupId, selectId);\r\n    }\r\n\r\n    if (document.getElementById(\"assigned\").checked) {\r\n        const selectId = \"assigned-select\";\r\n        loadUsers(groupId, selectId);\r\n    }\r\n\r\n    if (document.getElementById(\"observer\").checked) {\r\n        const selectId = \"observer-select\";\r\n        loadUsers(groupId, selectId);\r\n    }\r\n\r\n    if (this.checked) {\r\n        clientSelect.disabled = true;\r\n        shareSelect.disabled = true;\r\n    } else {\r\n        clientSelect.disabled = false;\r\n        shareSelect.disabled = false;\r\n    }\r\n\r\n});\r\n\r\ndocument.getElementById(\"cancel\").addEventListener(\"click\", function () {\r\n    // Close the dialog\r\n    Office.context.ui.messageParent(\"close\");\r\n});\r\n\r\ndocument.getElementById(\"save\").addEventListener(\"click\", async function () {\r\n    // save attachments to server and get the attachment IDs\r\n    let attachmentIds = [];\r\n    const selectedRadio = document.querySelector('input[name=\"attachmentOption\"]:checked');\r\n    if (selectedRadio && selectedRadio.value === \"1\") {\r\n        try {\r\n            const data = JSON.parse(localStorage.getItem(\"dialogData\"));\r\n            const attachmentData = data.attachments;\r\n            if (attachmentData.length === 0) {\r\n                attachmentIds = [];\r\n            } else {\r\n                const response = await sendAttachmentsToServer(attachmentData);\r\n                attachmentIds = response;\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error sending attachments:\", error);\r\n        }\r\n    } else {\r\n        attachmentIds = [];\r\n    }\r\n\r\n    // get the form data\r\n    const groupId = $('#group-data').val();\r\n    const jobTitle = $('#jobtitle').val();\r\n    let clientId = $('#client').val();\r\n    let sharedClientIds = [];\r\n    const selectedOptions = Array.from(document.getElementById(\"share-client\").selectedOptions);\r\n    sharedClientIds = selectedOptions.map(option => option.value);\r\n    if (document.getElementById(\"non-client-job\").checked) {\r\n        sharedClientIds = [];\r\n        clientId = 0;\r\n    }\r\n    let copyFileNote;\r\n    if (document.getElementById(\"copy-file-note\").checked) {\r\n        copyFileNote = true;\r\n    } else {\r\n        copyFileNote = false;\r\n    }\r\n\r\n    const noteSummary = document.getElementById(\"noteSummary\").value;\r\n    const noteContent = window.editorInstance.getData();\r\n\r\n    let dueDate;\r\n    if (document.getElementById(\"jobnote-duedate\").checked) {\r\n        const localdueDate = document.getElementById(\"jobnote-duedate-picker\").value;\r\n        // convert to ISO format\r\n        dueDate = new Date(localdueDate).toISOString().replace(\"T\", \" \").split(\".\")[0];\r\n    } else {\r\n        dueDate = \"\";\r\n    }\r\n\r\n    let effectiveDate;\r\n    if (document.getElementById(\"jobnote-effectivedate\").checked) {\r\n        const localeffectiveDate = document.getElementById(\"jobnote-effectivedate-picker\").value;\r\n        // convert to ISO format\r\n        effectiveDate = new Date(localeffectiveDate).toISOString().replace(\"T\", \" \").split(\".\")[0];\r\n    } else {\r\n        effectiveDate = \"\";\r\n    }\r\n\r\n    let completeDate;\r\n    if (document.getElementById(\"jobnote-completedate\").checked) {\r\n        const localcompleteDate = document.getElementById(\"jobnote-completedate-picker\").value;\r\n        // convert to ISO format\r\n        completeDate = new Date(localcompleteDate).toISOString().replace(\"T\", \" \").split(\".\")[0];\r\n    } else {\r\n        completeDate = \"\";\r\n    }\r\n\r\n    let followUpDate;\r\n    if (document.getElementById(\"jobnote-followupdate\").checked) {\r\n        const localfollowUpDate = document.getElementById(\"jobnote-followupdate-picker\").value;\r\n        // convert to ISO format\r\n        followUpDate = new Date(localfollowUpDate).toISOString().replace(\"T\", \" \").split(\".\")[0];\r\n    } else {\r\n        followUpDate = \"\";\r\n    }\r\n\r\n    let jobTypeId;\r\n    let jobTitleId;\r\n    if (document.getElementById(\"jobtype\").checked) {\r\n        jobTypeId = document.getElementById(\"jobtype-select\").value;\r\n        jobTitleId = document.getElementById(\"jobtitle-select\").value;\r\n    } else {\r\n        jobTypeId = 0;\r\n        jobTitleId = 0;\r\n    }\r\n\r\n    let ownerId;\r\n    let assignedId;\r\n    let observerId;\r\n    if (document.getElementById(\"owner\").checked) {\r\n        ownerId = document.getElementById(\"owner-select\").value;\r\n    } else {\r\n        ownerId = 0;\r\n    }\r\n\r\n    if (document.getElementById(\"assigned\").checked) {\r\n        assignedId = document.getElementById(\"assigned-select\").value;\r\n    } else {\r\n        assignedId = 0;\r\n    }\r\n\r\n    if (document.getElementById(\"observer\").checked) {\r\n        observerId = document.getElementById(\"observer-select\").value;\r\n    } else {\r\n        observerId = 0;\r\n    }\r\n\r\n    let jobNotifyOwner;\r\n    let jobNotifyAssigned;\r\n    let jobNotifyObserver;\r\n    if (document.getElementById(\"jobnote-owner\").checked) {\r\n        jobNotifyOwner = true;\r\n    } else {\r\n        jobNotifyOwner = false;\r\n    }\r\n\r\n    if (document.getElementById(\"jobnote-assigned\").checked) {\r\n        jobNotifyAssigned = true;\r\n    } else {\r\n        jobNotifyAssigned = false;\r\n    }\r\n\r\n    if (document.getElementById(\"jobnote-observer\").checked) {\r\n        jobNotifyObserver = true;\r\n    } else {\r\n        jobNotifyObserver = false;\r\n    }\r\n\r\n    let recurring;\r\n    let recurringFirstDueDate;\r\n    let recurringEndDate;\r\n    let recurringFrequency;\r\n    if (document.getElementById(\"recurring\").checked) {\r\n        recurring = true;\r\n        const localrecurringFirstDueDate = document.getElementById(\"first-due-date-picker\").value;\r\n        // convert to ISO format\r\n        recurringFirstDueDate = new Date(localrecurringFirstDueDate).toISOString().replace(\"T\", \" \").split(\".\")[0];\r\n        if (document.getElementById(\"end-date\").checked) {\r\n            const localrecurringEndDate = document.getElementById(\"end-date-picker\").value;\r\n            // convert to ISO format\r\n            recurringEndDate = new Date(localrecurringEndDate).toISOString().replace(\"T\", \" \").split(\".\")[0];\r\n        } else {\r\n            recurringEndDate = \"\";\r\n        }\r\n        recurringFrequency = document.getElementById(\"frequency\").value;\r\n    } else {\r\n        recurring = false;\r\n        recurringFirstDueDate = \"\";\r\n        recurringEndDate = \"\";\r\n        recurringFrequency = \"\";\r\n    }\r\n\r\n    const sharedClientIdsString = sharedClientIds.join(',');\r\n    const attachmentIdsString = attachmentIds.join(',');\r\n    const userId = localStorage.getItem(\"current_login_userId\");\r\n    const data = {\r\n        groupId,\r\n        userId,\r\n        jobTitle,\r\n        clientId,\r\n        sharedClientIdsString,\r\n        copyFileNote,\r\n        noteSummary,\r\n        noteContent,\r\n        dueDate,\r\n        effectiveDate,\r\n        completeDate,\r\n        followUpDate,\r\n        jobTypeId,\r\n        jobTitleId,\r\n        ownerId,\r\n        assignedId,\r\n        observerId,\r\n        jobNotifyOwner,\r\n        jobNotifyAssigned,\r\n        jobNotifyObserver,\r\n        recurring,\r\n        recurringFirstDueDate,\r\n        recurringEndDate,\r\n        recurringFrequency,\r\n        attachmentIdsString\r\n    };\r\n    console.log(\"123444\", data);\r\n\r\n\r\n    try {\r\n        const response = await fetch('http://localhost/outlookAddin/webaddNewJob.php', {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n            },\r\n            body: \"data=\" + encodeURIComponent(JSON.stringify(data))\r\n        });\r\n\r\n        const responseData = await response.json();\r\n\r\n        if (responseData.status === \"success\") {\r\n            // Close the dialog\r\n            Office.context.ui.messageParent(\"newjob\");\r\n\r\n            // Open a dialog to show the success message\r\n            const overlay = document.createElement('div');\r\n            overlay.className = 'overlay';\r\n            document.body.appendChild(overlay);\r\n\r\n            // create a dialog\r\n            const dialog = document.createElement('div');\r\n            dialog.className = 'dialog';\r\n            dialog.innerHTML = `\r\n                <p>Successfully Add</p>\r\n                <button id=\"close-dialog\">OK</button>\r\n            `;\r\n            document.body.appendChild(dialog);\r\n            document.getElementById('close-dialog').addEventListener('click', () => {\r\n                document.body.removeChild(dialog);\r\n                document.body.removeChild(overlay);\r\n                location.reload();\r\n            });\r\n            console.log(\"Job note saved successfully.\");\r\n        } else {\r\n            console.error(\"Error saving job note:\", responseData.message);\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error saving job note:\", error);\r\n    }\r\n\r\n});\r\n\r\n\r\nasync function sendAttachmentsToServer(attachmentData) {\r\n    const response = await fetch('http://localhost/outlookAddin/webattachmentReceiver.php', {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n        },\r\n        body: \"attachments=\" + encodeURIComponent(JSON.stringify(attachmentData))\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (data.status === \"success\" && data.attachmentIds) {\r\n        return data.attachmentIds;  // return the attachmentIds\r\n    } else {\r\n        throw new Error(\"No attachment IDs returned from server.\");\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","populateSelect","selectId","options","selectElement","document","getElementById","innerHTML","option","optionElement","createElement","textContent","text","selected","appendChild","initSelect2","selectSelector","$","select2","placeholder","allowClear","loadClient","_x","_loadClient","_callee6","groupId","response","clients","clientSelect","_context6","fetch","concat","ok","status","json","Array","isArray","client","entityId","entityName","dataset","xplanEmail","XPlanID","salesforceEmail","SalesforceID","midwinterEmail","MidwinterID","t0","console","error","loadSharedClient","_x2","_x3","_loadSharedClient","_callee7","sharedClients","sharedClientSelect","_context7","log","sharedClient","loadJobType","_x4","_loadJobType","_callee8","jobTypes","jobTypeSelect","firstJobTypeId","_context8","jobType","jobtypeid","jobtype","val","trigger","loadJobTitle","_x5","_x6","_loadJobTitle","_callee9","jobTypeId","jobTitles","jobTitleSelect","firstJobTitleId","_context9","jobTitle","id","defaultJobTitle","loadUsers","_x7","_x8","_loadUsers","_callee10","users","fixedOptions","dynamicOptions","select2Data","_context10","map","user","userId","checked","children","empty","data","handleUserContainerChange","containerId","addEventListener","container","this","style","display","sendAttachmentsToServer","_x9","_sendAttachmentsToServer","_callee11","attachmentData","_context11","headers","body","encodeURIComponent","JSON","stringify","attachmentIds","Office","onReady","info","host","HostType","Outlook","parse","localStorage","getItem","groupOptions","clientOptions","noteTitle","noteContent","editor","window","editorInstance","setData","on","_callee","clientId","_context","is","_callee2","_context2","datetimeContainer","now","Date","setMinutes","getMinutes","getTimezoneOffset","toISOString","_callee3","jobtypeContainer","jobtitleContainer","_context3","_callee4","_context4","selectedJobTitle","find","recurringContainer","dueDateContainer","endDateContainer","shareSelect","disabled","context","ui","messageParent","_callee5","selectedRadio","_data","sharedClientIds","selectedOptions","copyFileNote","noteSummary","dueDate","localdueDate","effectiveDate","localeffectiveDate","completeDate","localcompleteDate","followUpDate","localfollowUpDate","jobTitleId","ownerId","assignedId","observerId","jobNotifyOwner","jobNotifyAssigned","jobNotifyObserver","recurring","recurringFirstDueDate","recurringEndDate","recurringFrequency","localrecurringFirstDueDate","localrecurringEndDate","sharedClientIdsString","attachmentIdsString","_response","responseData","overlay","dialog","_context5","querySelector","attachments","from","getData","replace","split","join","className","removeChild","location","reload","message","t1"],"sourceRoot":""}